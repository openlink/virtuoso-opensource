<?xml version="1.0" encoding="ISO-8859-1"?>
<!--
 -  
 -  This file is part of the OpenLink Software Virtuoso Open-Source (VOS)
 -  project.
 -  
 -  Copyright (C) 1998-2019 OpenLink Software
 -  
 -  This project is free software; you can redistribute it and/or modify it
 -  under the terms of the GNU General Public License as published by the
 -  Free Software Foundation; only version 2 of the License, dated June 1991.
 -  
 -  This program is distributed in the hope that it will be useful, but
 -  WITHOUT ANY WARRANTY; without even the implied warranty of
 -  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU
 -  General Public License for more details.
 -  
 -  You should have received a copy of the GNU General Public License along
 -  with this program; if not, write to the Free Software Foundation, Inc.,
 -  51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA
 -  
 -  
-->
<refentry id="fn_http_xslt">
  <refmeta>
    <refentrytitle>http_xslt</refentrytitle>
    <refmiscinfo>ws</refmiscinfo>
  </refmeta>
  <refnamediv>
    <refname>http_xslt</refname>
    <refpurpose>applies an XSLT stylesheet to the output of a VSP page</refpurpose>
  </refnamediv>
  <refsynopsisdiv>
    <funcsynopsis id="fsyn_http_xslt">
      <funcprototype id="fproto_http_xslt">
        <funcdef><function>http_xslt</function></funcdef>
        <paramdef>in <parameter>xslt_uri</parameter> varchar</paramdef>
        <paramdef><optional>in <parameter>params</parameter> any</optional></paramdef>
      </funcprototype>
    </funcsynopsis>
  </refsynopsisdiv>
  <refsect1 id="desc_http_xslt"><title>Description</title>
    <para>
This function can be called inside a VSP page to apply an XSLT
stylesheet to the output of the page once the page is complete.  This
function will return immediately and the stylesheet will not be
applied until the page is successfully formed.  Any errors arising in
the stylesheet processing will be reported to the web client.
</para>
	<para>
The stylesheet does not have to be previously defined.  The URI
supplied will be used to locate the stylesheet.  This can be a file,
an HTTP URL or a virt:// URI for a stylesheet stored in a local table.
Virtuoso will cache the stylesheet after first use.  You can clear the
cache entry with the <function>xslt_stale()</function> function.
</para>
	<para>
For this to work the text generated by the VSP page should be well-formed XML.
</para>
	<para>
This function is only valid in a VSP context.  The
<parameter>xsl:output</parameter> element will control the
Content-Type sent to the user agent.
</para>
  </refsect1>
  <refsect1 id="params_http_xslt"><title>Parameters</title>
    <refsect2><title>xslt_uri</title><para>Absolute URI of the XSL stylesheet</para></refsect2>
    <refsect2><title>params</title><para>Even length array of name/value pairs.</para></refsect2>
  </refsect1>
  <refsect1 id="examples_http_xslt"><title>Examples</title>
  <example id="ex_http_xslt"><title>Performing XSLT Transformation of VSP Output</title>
  <programlisting>
  &lt;?vsp
    http ('&lt;a&gt;&lt;b&gt;simple XML document&lt;/b&gt;&lt;/a&gt;');
    http_xslt ('file://');
  ?&gt;
  </programlisting>
  </example>
  </refsect1>
</refentry>


